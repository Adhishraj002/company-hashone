<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Hashone Careers</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <style>
        body {
            background: var(--bg-light);
            min-height: 100vh;
        }

        .admin-navbar {
            background: white;
            border-bottom: 2px solid var(--primary-color);
            padding: 1rem 0;
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .admin-navbar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-navbar .logo img {
            height: 50px;
            width: auto;
            max-width: 180px;
        }

        .admin-navbar .admin-user {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .admin-user-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .admin-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .admin-user-info span {
            font-weight: 600;
            color: var(--text-dark);
        }

        .logout-btn {
            padding: 0.75rem 1.5rem;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logout-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .admin-content {
            padding: 3rem 0;
        }

        .admin-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .admin-header h1 {
            font-size: 2.5rem;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        .admin-header p {
            color: var(--text-light);
            font-size: 1.125rem;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: var(--shadow-md);
            text-align: center;
            transition: all 0.3s ease;
            border-left: 4px solid var(--primary-color);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
        }

        .stat-card i {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .stat-card h3 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        .stat-card p {
            color: var(--text-light);
            font-weight: 500;
        }

        .admin-panel {
            background: white;
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            margin-bottom: 3rem;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid var(--border-color);
        }

        .panel-header h2 {
            font-size: 1.75rem;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .panel-header h2 i {
            color: var(--primary-color);
        }

        .add-job-btn {
            padding: 0.875rem 1.5rem;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .add-job-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .admin-form {
            display: grid;
            gap: 1.5rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .jobs-list {
            margin-top: 3rem;
        }

        .jobs-list h3 {
            font-size: 1.5rem;
            color: var(--text-dark);
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .jobs-list h3 i {
            color: var(--primary-color);
        }

        .jobs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
        }

        .job-card-admin {
            background: var(--bg-light);
            padding: 2rem;
            border-radius: 16px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .job-card-admin:hover {
            border-color: var(--primary-color);
            box-shadow: var(--shadow-md);
            transform: translateY(-3px);
        }

        .job-card-admin .job-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 1rem;
        }

        .job-card-admin .job-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .job-card-admin .job-meta span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .job-card-admin .job-meta i {
            color: var(--primary-color);
        }

        .job-card-admin .job-description {
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }

        .job-actions {
            display: flex;
            gap: 0.75rem;
        }

        .btn-edit-admin,
        .btn-delete-admin {
            flex: 1;
            padding: 0.75rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-edit-admin {
            background: var(--secondary-color);
            color: white;
        }

        .btn-edit-admin:hover {
            background: #2563eb;
            transform: translateY(-2px);
        }

        .btn-delete-admin {
            background: #ef4444;
            color: white;
        }

        .btn-delete-admin:hover {
            background: #dc2626;
            transform: translateY(-2px);
        }

        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-light);
        }

        .empty-state i {
            font-size: 4rem;
            color: var(--border-color);
            margin-bottom: 1rem;
        }

        .empty-state p {
            font-size: 1.125rem;
        }

        /* Tabs */
        .admin-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--border-color);
            overflow-x: auto;
            flex-wrap: wrap;
        }

        .admin-tab {
            padding: 1rem 1.5rem;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-light);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            white-space: nowrap;
        }

        .admin-tab:hover {
            color: var(--primary-color);
            background: rgba(31, 47, 79, 0.05);
        }

        .admin-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
            background: rgba(31, 47, 79, 0.05);
        }

        .admin-tab i {
            font-size: 1.1rem;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Image Upload */
        .image-upload-container {
            position: relative;
            margin-bottom: 1rem;
        }

        .image-preview {
            width: 150px;
            height: 150px;
            border-radius: 12px;
            object-fit: cover;
            border: 2px solid var(--border-color);
            display: none;
            margin-bottom: 1rem;
        }

        .image-preview.show {
            display: block;
        }

        .file-input-wrapper {
            position: relative;
            display: inline-block;
            width: 100%;
        }

        .file-input-wrapper input[type="file"] {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .file-input-label {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.875rem 1.5rem;
            background: var(--bg-light);
            border: 2px dashed var(--border-color);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            justify-content: center;
        }

        .file-input-label:hover {
            border-color: var(--primary-color);
            background: rgba(31, 47, 79, 0.05);
        }

        .team-member-card {
            background: var(--bg-light);
            padding: 1.5rem;
            border-radius: 12px;
            border: 2px solid var(--border-color);
            margin-bottom: 1rem;
        }

        .team-member-card img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 1rem;
        }

        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            box-shadow: var(--shadow-lg);
            z-index: 10000;
            display: none;
            animation: slideInRight 0.3s ease;
        }

        .notification.show {
            display: block;
        }

        .notification.success {
            background: #d1fae5;
            color: #065f46;
            border-left: 4px solid #10b981;
        }

        .notification.error {
            background: #fee2e2;
            color: #dc2626;
            border-left: 4px solid #ef4444;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @media (max-width: 768px) {
            .admin-navbar .admin-user {
                flex-direction: column;
                gap: 0.5rem;
            }

            .admin-stats {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .jobs-grid {
                grid-template-columns: 1fr;
            }

            .admin-tabs {
                flex-direction: column;
            }

            .admin-tab {
                border-bottom: 2px solid var(--border-color);
                border-left: 3px solid transparent;
            }

            .admin-tab.active {
                border-left-color: var(--primary-color);
                border-bottom-color: var(--border-color);
            }
        }
    </style>
</head>
<body>
    <nav class="admin-navbar">
        <div class="container">
            <div class="logo">
                <a href="index.html">
                    <img src="images/logo2.jpg" alt="Hashone Careers Logo">
                </a>
            </div>
            <div class="admin-user">
                <div class="admin-user-info">
                    <div class="admin-avatar">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <span id="adminUsername">Admin</span>
                </div>
                <button class="logout-btn" onclick="handleLogout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>
    </nav>

    <div class="admin-content">
        <div class="container">
            <div class="admin-header" data-aos="fade-up">
                <h1>Admin Dashboard</h1>
                <p>Manage job roles and company listings</p>
            </div>

            <div class="admin-stats" data-aos="fade-up" data-aos-delay="100">
                <div class="stat-card">
                    <i class="fas fa-briefcase"></i>
                    <h3 id="totalJobs">0</h3>
                    <p>Total Jobs</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-users"></i>
                    <h3 id="totalTeamMembers">0</h3>
                    <p>Team Members</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-building"></i>
                    <h3 id="totalServices">4</h3>
                    <p>Services</p>
                </div>
            </div>

            <!-- Admin Tabs -->
            <div class="admin-panel" data-aos="fade-up" data-aos-delay="200">
                <div class="admin-tabs">
                    <button class="admin-tab active" onclick="switchTab('jobs', this)">
                        <i class="fas fa-briefcase"></i> Job Roles
                    </button>
                    <button class="admin-tab" onclick="switchTab('home', this)">
                        <i class="fas fa-home"></i> Home Page
                    </button>
                    <button class="admin-tab" onclick="switchTab('about', this)">
                        <i class="fas fa-info-circle"></i> About Us
                    </button>
                    <button class="admin-tab" onclick="switchTab('services', this)">
                        <i class="fas fa-cogs"></i> Services
                    </button>
                    <button class="admin-tab" onclick="switchTab('contact', this)">
                        <i class="fas fa-address-book"></i> Contact
                    </button>
                    <button class="admin-tab" onclick="switchTab('team', this)">
                        <i class="fas fa-users"></i> Team Members
                    </button>
                </div>

            <!-- Jobs Tab -->
            <div id="jobsTab" class="tab-content active">
                <div class="panel-header">
                    <h2>
                        <i class="fas fa-plus-circle"></i>
                        <span id="panelTitle">Add New Job Role</span>
                    </h2>
                    <button class="add-job-btn" id="addJobBtn" onclick="showAddForm()">
                        <i class="fas fa-plus"></i> Add Job
                    </button>
                </div>

                <form id="jobForm" class="admin-form" style="display: none;">
                    <input type="hidden" id="jobId">
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="jobTitle">Job Title *</label>
                            <input type="text" id="jobTitle" required placeholder="e.g., Frontend Developer">
                        </div>
                        <div class="form-group">
                            <label for="jobLocation">Location *</label>
                            <input type="text" id="jobLocation" required placeholder="e.g., Coimbatore">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="jobExperience">Experience *</label>
                            <input type="text" id="jobExperience" required placeholder="e.g., 1-3 Years">
                        </div>
                        <div class="form-group">
                            <label for="jobType">Employment Type *</label>
                            <input type="text" id="jobType" required placeholder="e.g., Full-Time">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="jobDescription">Description *</label>
                        <textarea id="jobDescription" rows="4" required placeholder="Job description..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="jobFormUrl">Application Form URL *</label>
                        <input type="url" id="jobFormUrl" required placeholder="https://forms.google.com/...">
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Save Job
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="resetForm()">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                    </div>
                </form>
            </div>

            <div class="jobs-list" data-aos="fade-up" data-aos-delay="300">
                <h3>
                    <i class="fas fa-list"></i>
                    Current Job Listings
                </h3>
                <div class="jobs-grid" id="jobsGrid">
                    <!-- Jobs will be loaded here -->
                </div>
            </div>
            </div>

            <!-- Home Tab -->
            <div id="homeTab" class="tab-content">
                <div class="panel-header">
                    <h2><i class="fas fa-home"></i> Home Page Content</h2>
                </div>
                <form id="homeForm" class="admin-form">
                    <div class="form-group">
                        <label for="heroTitle">Hero Title</label>
                        <input type="text" id="heroTitle" placeholder="Building Careers. Powering Businesses.">
                    </div>
                    <div class="form-group">
                        <label for="heroSubtitle">Hero Subtitle</label>
                        <input type="text" id="heroSubtitle" placeholder="Trusted recruitment partner for IT & Non-IT hiring solutions">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="statClients">Happy Clients Count</label>
                            <input type="number" id="statClients" placeholder="80">
                        </div>
                        <div class="form-group">
                            <label for="statPlacements">Placements Count</label>
                            <input type="number" id="statPlacements" placeholder="500">
                        </div>
                        <div class="form-group">
                            <label for="statExperience">Years Experience</label>
                            <input type="number" id="statExperience" placeholder="4">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Home Content</button>
                    </div>
                </form>
            </div>

            <!-- About Tab -->
            <div id="aboutTab" class="tab-content">
                <div class="panel-header">
                    <h2><i class="fas fa-info-circle"></i> About Us Content</h2>
                </div>
                <form id="aboutForm" class="admin-form">
                    <div class="form-group">
                        <label for="aboutEstablished">Established Date</label>
                        <input type="text" id="aboutEstablished" placeholder="September 22, 2021">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="aboutTeamCount">Team Members Count</label>
                            <input type="number" id="aboutTeamCount" placeholder="52">
                        </div>
                        <div class="form-group">
                            <label for="aboutClientsCount">Clients Count</label>
                            <input type="number" id="aboutClientsCount" placeholder="80">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="aboutMission">Mission Statement</label>
                        <textarea id="aboutMission" rows="4" placeholder="We simplify the business employment process..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>Leadership (Founder &amp; Co-Founder)</label>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="founder1Name">Founder 1 Name</label>
                                <input type="text" id="founder1Name" placeholder="M Mohamed Arif">
                            </div>
                            <div class="form-group">
                                <label for="founder1Role">Founder 1 Role</label>
                                <input type="text" id="founder1Role" placeholder="Founder">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Founder 1 Photo</label>
                            <div class="image-upload-container">
                                <img id="founder1PhotoPreview" class="image-preview" alt="Founder 1 preview">
                                <div class="file-input-wrapper">
                                    <label for="founder1PhotoInput" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Founder 1 Photo
                                    </label>
                                    <input type="file" id="founder1PhotoInput" accept="image/*" onchange="previewFounderPhoto(event, 1)">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="founder1Bio">Founder 1 Bio</label>
                            <textarea id="founder1Bio" rows="2" placeholder="Visionary leader..."></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="founder2Name">Founder 2 Name</label>
                                <input type="text" id="founder2Name" placeholder="M Mohamed Asif">
                            </div>
                            <div class="form-group">
                                <label for="founder2Role">Founder 2 Role</label>
                                <input type="text" id="founder2Role" placeholder="Co-Founder">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Founder 2 Photo</label>
                            <div class="image-upload-container">
                                <img id="founder2PhotoPreview" class="image-preview" alt="Founder 2 preview">
                                <div class="file-input-wrapper">
                                    <label for="founder2PhotoInput" class="file-input-label">
                                        <i class="fas fa-upload"></i> Upload Founder 2 Photo
                                    </label>
                                    <input type="file" id="founder2PhotoInput" accept="image/*" onchange="previewFounderPhoto(event, 2)">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="founder2Bio">Founder 2 Bio</label>
                            <textarea id="founder2Bio" rows="2" placeholder="Strategic partner..."></textarea>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save About Content</button>
                    </div>
                </form>
            </div>

            <!-- Services Tab -->
            <div id="servicesTab" class="tab-content">
                <div class="panel-header">
                    <h2><i class="fas fa-cogs"></i> Services Content</h2>
                </div>
                <div id="servicesList">
                    <!-- Services will be loaded here -->
                </div>
            </div>

            <!-- Contact Tab -->
            <div id="contactTab" class="tab-content">
                <div class="panel-header">
                    <h2><i class="fas fa-address-book"></i> Contact Information</h2>
                </div>
                <form id="contactForm" class="admin-form">
                    <div class="form-group">
                        <label for="contactAddress">Office Address</label>
                        <textarea id="contactAddress" rows="4" placeholder="Hashone Careers Pvt Ltd..."></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="contactPhone">Phone</label>
                            <input type="text" id="contactPhone" placeholder="+91 9789288938">
                        </div>
                        <div class="form-group">
                            <label for="contactEmail">Email</label>
                            <input type="email" id="contactEmail" placeholder="info@hashone.co.in">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="contactHours">Office Hours</label>
                            <input type="text" id="contactHours" placeholder="Monday - Friday, 9:00 AM - 6:00 PM">
                        </div>
                        <div class="form-group">
                            <label for="contactGST">GST Number</label>
                            <input type="text" id="contactGST" placeholder="33AAGCH0304M1ZW">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="contactLinkedIn">LinkedIn URL</label>
                            <input type="url" id="contactLinkedIn" placeholder="https://linkedin.com/...">
                        </div>
                        <div class="form-group">
                            <label for="contactInstagram">Instagram URL</label>
                            <input type="url" id="contactInstagram" placeholder="https://instagram.com/...">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Contact Info</button>
                    </div>
                </form>
            </div>

            <!-- Team Members Tab -->
            <div id="teamTab" class="tab-content">
                <div class="panel-header">
                    <h2><i class="fas fa-users"></i> Team Members</h2>
                    <button class="add-job-btn" onclick="showAddTeamForm()">
                        <i class="fas fa-plus"></i> Add Team Member
                    </button>
                </div>
                <form id="teamForm" class="admin-form" style="display: none;">
                    <input type="hidden" id="teamMemberId">
                    <div class="form-group">
                        <label>Member Photo</label>
                        <div class="image-upload-container">
                            <img id="teamPhotoPreview" class="image-preview" alt="Preview">
                            <div class="file-input-wrapper">
                                <label for="teamPhoto" class="file-input-label">
                                    <i class="fas fa-upload"></i> Upload Photo
                                </label>
                                <input type="file" id="teamPhoto" accept="image/*" onchange="previewTeamPhoto(event)">
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="teamName">Name *</label>
                            <input type="text" id="teamName" required placeholder="John Doe">
                        </div>
                        <div class="form-group">
                            <label for="teamRole">Role *</label>
                            <input type="text" id="teamRole" required placeholder="Senior Developer">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="teamBio">Bio</label>
                        <textarea id="teamBio" rows="3" placeholder="Brief description..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Member</button>
                        <button type="button" class="btn btn-secondary" onclick="resetTeamForm()"><i class="fas fa-times"></i> Cancel</button>
                    </div>
                </form>
                <div id="teamMembersList" style="margin-top: 2rem;">
                    <!-- Team members will be loaded here -->
                </div>
            </div>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification"></div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 1000,
            once: true
        });

        // Check authentication
        if (sessionStorage.getItem('isAdminLoggedIn') !== 'true') {
            window.location.href = 'login.html';
        }

        // Load admin username
        const storedAdmin = JSON.parse(localStorage.getItem('hashoneAdminCredentials'));
        const adminUsername = storedAdmin ? storedAdmin.username : 'Admin';
        document.getElementById('adminUsername').textContent = adminUsername;


        // Tab switching
        function switchTab(tabName, element) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.admin-tab').forEach(btn => {
                btn.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName + 'Tab').classList.add('active');
            if (element) {
                element.classList.add('active');
            } else {
                document.querySelector(`.admin-tab[onclick*="${tabName}"]`).classList.add('active');
            }

            // Load tab-specific data
            if (tabName === 'team') {
                loadTeamMembers();
            } else if (tabName === 'services') {
                loadServices();
            } else if (tabName === 'home') {
                loadHomeContent();
            } else if (tabName === 'about') {
                loadAboutContent();
            } else if (tabName === 'contact') {
                loadContactContent();
            }
        }

        // Notification system
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Job management functions
        let jobs = [];
        let teamMembers = [];
        let websiteContent = {
            home: {},
            about: {},
            services: [],
            contact: {}
        };

        // Leadership photo previews (About tab)
        function previewFounderPhoto(event, which) {
            const file = event.target.files && event.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = function(e) {
                const base64 = e.target.result;
                const img = document.getElementById(which === 1 ? 'founder1PhotoPreview' : 'founder2PhotoPreview');
                if (img) {
                    img.src = base64;
                    img.classList.add('show');
                }
            };
            reader.readAsDataURL(file);
        }

        function loadJobs() {
            const savedJobs = localStorage.getItem('hashoneJobs');
            if (savedJobs) {
                jobs = JSON.parse(savedJobs);
            }
            renderJobs();
            updateStats();
        }

        function saveJobs() {
            localStorage.setItem('hashoneJobs', JSON.stringify(jobs));
        }

        function renderJobs() {
            const jobsGrid = document.getElementById('jobsGrid');
            if (!jobsGrid) return;

            if (jobs.length === 0) {
                jobsGrid.innerHTML = `
                    <div class="empty-state" style="grid-column: 1 / -1;">
                        <i class="fas fa-inbox"></i>
                        <p>No job listings yet. Click "Add Job" to create your first listing.</p>
                    </div>
                `;
                return;
            }

            jobsGrid.innerHTML = '';
            jobs.forEach(job => {
                const jobCard = document.createElement('div');
                jobCard.className = 'job-card-admin';
                jobCard.innerHTML = `
                    <div class="job-title">${job.title}</div>
                    <div class="job-meta">
                        <span><i class="fas fa-map-marker-alt"></i> ${job.location}</span>
                        <span><i class="fas fa-briefcase"></i> ${job.experience}</span>
                        <span><i class="fas fa-clock"></i> ${job.type}</span>
                    </div>
                    <div class="job-description">${job.description}</div>
                    <div class="job-actions">
                        <button class="btn-edit-admin" onclick="editJob(${job.id})">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="btn-delete-admin" onclick="deleteJob(${job.id})">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                `;
                jobsGrid.appendChild(jobCard);
            });
        }

        function updateStats() {
            document.getElementById('totalJobs').textContent = jobs.length;
            document.getElementById('totalTeamMembers').textContent = teamMembers.length;
            // Animate count up
            animateCountUp('totalJobs', jobs.length);
            animateCountUp('totalTeamMembers', teamMembers.length);
        }

        function animateCountUp(elementId, target) {
            const element = document.getElementById(elementId);
            let current = 0;
            const increment = target / 50;
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    element.textContent = target;
                    clearInterval(timer);
                } else {
                    element.textContent = Math.floor(current);
                }
            }, 30);
        }

        function showAddForm() {
            const form = document.getElementById('jobForm');
            const panelTitle = document.getElementById('panelTitle');
            const addBtn = document.getElementById('addJobBtn');
            
            resetForm();
            form.style.display = 'grid';
            panelTitle.textContent = 'Add New Job Role';
            addBtn.style.display = 'none';
            form.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function resetForm() {
            document.getElementById('jobForm').reset();
            document.getElementById('jobId').value = '';
            const form = document.getElementById('jobForm');
            const panelTitle = document.getElementById('panelTitle');
            const addBtn = document.getElementById('addJobBtn');
            
            form.style.display = 'none';
            panelTitle.textContent = 'Manage Job Roles';
            addBtn.style.display = 'flex';
        }

        function editJob(id) {
            const job = jobs.find(j => j.id === id);
            if (job) {
                document.getElementById('jobId').value = job.id;
                document.getElementById('jobTitle').value = job.title;
                document.getElementById('jobLocation').value = job.location;
                document.getElementById('jobExperience').value = job.experience;
                document.getElementById('jobType').value = job.type;
                document.getElementById('jobDescription').value = job.description;
                document.getElementById('jobFormUrl').value = job.formUrl;

                const form = document.getElementById('jobForm');
                const panelTitle = document.getElementById('panelTitle');
                const addBtn = document.getElementById('addJobBtn');
                
                form.style.display = 'grid';
                panelTitle.textContent = 'Edit Job Role';
                addBtn.style.display = 'none';
                form.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }

        function deleteJob(id) {
            if (confirm('Are you sure you want to delete this job posting?')) {
                jobs = jobs.filter(job => job.id !== id);
                saveJobs();
                renderJobs();
                updateStats();
            }
        }

        function handleLogout() {
            sessionStorage.removeItem('isAdminLoggedIn');
            // DO NOT delete admin credentials
            window.location.href = 'login.html';
        }


        // Form submission
        document.getElementById('jobForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const jobId = document.getElementById('jobId').value;
            const jobData = {
                title: document.getElementById('jobTitle').value,
                location: document.getElementById('jobLocation').value,
                experience: document.getElementById('jobExperience').value,
                type: document.getElementById('jobType').value,
                description: document.getElementById('jobDescription').value,
                formUrl: document.getElementById('jobFormUrl').value
            };

            if (jobId) {
                const index = jobs.findIndex(job => job.id === parseInt(jobId));
                if (index !== -1) {
                    jobs[index] = { ...jobs[index], ...jobData };
                }
            } else {
                const newId = jobs.length > 0 ? Math.max(...jobs.map(j => j.id)) + 1 : 1;
                jobs.push({ id: newId, ...jobData });
            }

            saveJobs();
            renderJobs();
            updateStats();
            resetForm();

            // Show success message
            showNotification('Job saved successfully!');
        });

        // Team Members Management
        function loadTeamMembers() {
            const saved = localStorage.getItem('hashoneTeamMembers');
            if (saved) {
                teamMembers = JSON.parse(saved);
            }
            renderTeamMembers();
        }

        function saveTeamMembers() {
            localStorage.setItem('hashoneTeamMembers', JSON.stringify(teamMembers));
        }

        function renderTeamMembers() {
            const container = document.getElementById('teamMembersList');
            if (!container) return;

            if (teamMembers.length === 0) {
                container.innerHTML = '<div class="empty-state"><i class="fas fa-users"></i><p>No team members yet. Click "Add Team Member" to add one.</p></div>';
                return;
            }

            container.innerHTML = '';
            teamMembers.forEach(member => {
                const card = document.createElement('div');
                card.className = 'team-member-card';
                card.innerHTML = `
                    ${member.photo ? `<img src="${member.photo}" alt="${member.name}">` : '<div class="team-avatar"><i class="fas fa-user"></i></div>'}
                    <h4>${member.name}</h4>
                    <p><strong>${member.role}</strong></p>
                    ${member.bio ? `<p>${member.bio}</p>` : ''}
                    <div class="job-actions">
                        <button class="btn-edit-admin" onclick="editTeamMember(${member.id})">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="btn-delete-admin" onclick="deleteTeamMember(${member.id})">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function previewTeamPhoto(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('teamPhotoPreview').src = e.target.result;
                    document.getElementById('teamPhotoPreview').classList.add('show');
                };
                reader.readAsDataURL(file);
            }
        }

        function showAddTeamForm() {
            document.getElementById('teamForm').style.display = 'grid';
            resetTeamForm();
        }

        function resetTeamForm() {
            document.getElementById('teamForm').reset();
            document.getElementById('teamMemberId').value = '';
            document.getElementById('teamPhotoPreview').classList.remove('show');
        }

        function editTeamMember(id) {
            const member = teamMembers.find(m => m.id === id);
            if (member) {
                document.getElementById('teamMemberId').value = member.id;
                document.getElementById('teamName').value = member.name;
                document.getElementById('teamRole').value = member.role;
                document.getElementById('teamBio').value = member.bio || '';
                if (member.photo) {
                    document.getElementById('teamPhotoPreview').src = member.photo;
                    document.getElementById('teamPhotoPreview').classList.add('show');
                }
                document.getElementById('teamForm').style.display = 'grid';
                document.getElementById('teamForm').scrollIntoView({ behavior: 'smooth' });
            }
        }

        function deleteTeamMember(id) {
            if (confirm('Are you sure you want to delete this team member?')) {
                teamMembers = teamMembers.filter(m => m.id !== id);
                saveTeamMembers();
                renderTeamMembers();
                updateStats();
                showNotification('Team member deleted successfully');
            }
        }

        // Content Management Functions
        function loadHomeContent() {
            const saved = localStorage.getItem('hashoneContent');
            if (saved) {
                websiteContent = JSON.parse(saved);
            }
            if (websiteContent.home) {
                document.getElementById('heroTitle').value = websiteContent.home.heroTitle || '';
                document.getElementById('heroSubtitle').value = websiteContent.home.heroSubtitle || '';
                document.getElementById('statClients').value = websiteContent.home.statClients || '';
                document.getElementById('statPlacements').value = websiteContent.home.statPlacements || '';
                document.getElementById('statExperience').value = websiteContent.home.statExperience || '';
            }
        }

        function loadAboutContent() {
            const saved = localStorage.getItem('hashoneContent');
            if (saved) {
                websiteContent = JSON.parse(saved);
            }
            if (websiteContent.about) {
                document.getElementById('aboutEstablished').value = websiteContent.about.established || '';
                document.getElementById('aboutTeamCount').value = websiteContent.about.teamCount || '';
                document.getElementById('aboutClientsCount').value = websiteContent.about.clientsCount || '';
                document.getElementById('aboutMission').value = websiteContent.about.mission || '';
                document.getElementById('founder1Name').value = websiteContent.about.founder1Name || '';
                document.getElementById('founder1Role').value = websiteContent.about.founder1Role || '';
                document.getElementById('founder1Bio').value = websiteContent.about.founder1Bio || '';
                document.getElementById('founder2Name').value = websiteContent.about.founder2Name || '';
                document.getElementById('founder2Role').value = websiteContent.about.founder2Role || '';
                document.getElementById('founder2Bio').value = websiteContent.about.founder2Bio || '';

                // Load founder photos into previews
                const f1Prev = document.getElementById('founder1PhotoPreview');
                const f2Prev = document.getElementById('founder2PhotoPreview');
                if (f1Prev && websiteContent.about.founder1Photo) {
                    f1Prev.src = websiteContent.about.founder1Photo;
                    f1Prev.classList.add('show');
                }
                if (f2Prev && websiteContent.about.founder2Photo) {
                    f2Prev.src = websiteContent.about.founder2Photo;
                    f2Prev.classList.add('show');
                }
            }
        }

        function loadContactContent() {
            const saved = localStorage.getItem('hashoneContent');
            if (saved) {
                websiteContent = JSON.parse(saved);
            }
            if (websiteContent.contact) {
                document.getElementById('contactAddress').value = websiteContent.contact.address || '';
                document.getElementById('contactPhone').value = websiteContent.contact.phone || '';
                document.getElementById('contactEmail').value = websiteContent.contact.email || '';
                document.getElementById('contactHours').value = websiteContent.contact.hours || '';
                document.getElementById('contactGST').value = websiteContent.contact.gst || '';
                document.getElementById('contactLinkedIn').value = websiteContent.contact.linkedin || '';
                document.getElementById('contactInstagram').value = websiteContent.contact.instagram || '';
            }
        }

        function loadServices() {
            const saved = localStorage.getItem('hashoneContent');
            if (saved) {
                websiteContent = JSON.parse(saved);
            }
            // Services editing can be added later if needed
            const container = document.getElementById('servicesList');
            container.innerHTML = '<p style="color: var(--text-light);">Services content editing coming soon. For now, services are managed in the main HTML file.</p>';
        }

        function saveContent() {
            localStorage.setItem('hashoneContent', JSON.stringify(websiteContent));
        }

        // Form submissions
        document.getElementById('homeForm').addEventListener('submit', function(e) {
            e.preventDefault();
            websiteContent.home = {
                heroTitle: document.getElementById('heroTitle').value,
                heroSubtitle: document.getElementById('heroSubtitle').value,
                statClients: document.getElementById('statClients').value,
                statPlacements: document.getElementById('statPlacements').value,
                statExperience: document.getElementById('statExperience').value
            };
            saveContent();
            showNotification('Home content saved successfully!');
        });

        document.getElementById('aboutForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const aboutDraft = {
                established: document.getElementById('aboutEstablished').value,
                teamCount: document.getElementById('aboutTeamCount').value,
                clientsCount: document.getElementById('aboutClientsCount').value,
                mission: document.getElementById('aboutMission').value,
                founder1Name: document.getElementById('founder1Name').value,
                founder1Role: document.getElementById('founder1Role').value,
                founder1Bio: document.getElementById('founder1Bio').value,
                founder2Name: document.getElementById('founder2Name').value,
                founder2Role: document.getElementById('founder2Role').value,
                founder2Bio: document.getElementById('founder2Bio').value,
                // keep existing photos unless new upload
                founder1Photo: websiteContent.about?.founder1Photo || '',
                founder2Photo: websiteContent.about?.founder2Photo || ''
            };

            const f1Input = document.getElementById('founder1PhotoInput');
            const f2Input = document.getElementById('founder2PhotoInput');

            const readFileAsBase64 = (file) => new Promise((resolve) => {
                if (!file) return resolve('');
                const reader = new FileReader();
                reader.onload = (e) => resolve(e.target.result);
                reader.readAsDataURL(file);
            });

            Promise.all([
                readFileAsBase64(f1Input && f1Input.files ? f1Input.files[0] : null),
                readFileAsBase64(f2Input && f2Input.files ? f2Input.files[0] : null)
            ]).then(([f1b64, f2b64]) => {
                if (f1b64) aboutDraft.founder1Photo = f1b64;
                if (f2b64) aboutDraft.founder2Photo = f2b64;
                websiteContent.about = aboutDraft;
                saveContent();
                showNotification('About content saved successfully!');
            }).catch(() => {
                websiteContent.about = aboutDraft;
                saveContent();
                showNotification('About content saved (photos not updated).', 'error');
            });
        });

        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            websiteContent.contact = {
                address: document.getElementById('contactAddress').value,
                phone: document.getElementById('contactPhone').value,
                email: document.getElementById('contactEmail').value,
                hours: document.getElementById('contactHours').value,
                gst: document.getElementById('contactGST').value,
                linkedin: document.getElementById('contactLinkedIn').value,
                instagram: document.getElementById('contactInstagram').value
            };
            saveContent();
            showNotification('Contact information saved successfully!');
        });

        document.getElementById('teamForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const fileInput = document.getElementById('teamPhoto');
            let photoBase64 = '';
            
            if (fileInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    photoBase64 = e.target.result;
                    saveTeamMember(photoBase64);
                };
                reader.readAsDataURL(fileInput.files[0]);
            } else {
                const existingMember = teamMembers.find(m => m.id === parseInt(document.getElementById('teamMemberId').value));
                photoBase64 = existingMember ? existingMember.photo : '';
                saveTeamMember(photoBase64);
            }
        });

        function saveTeamMember(photoBase64) {
            const memberId = document.getElementById('teamMemberId').value;
            const memberData = {
                name: document.getElementById('teamName').value,
                role: document.getElementById('teamRole').value,
                bio: document.getElementById('teamBio').value,
                photo: photoBase64
            };

            if (memberId) {
                const index = teamMembers.findIndex(m => m.id === parseInt(memberId));
                if (index !== -1) {
                    teamMembers[index] = { ...teamMembers[index], ...memberData };
                }
            } else {
                const newId = teamMembers.length > 0 ? Math.max(...teamMembers.map(m => m.id)) + 1 : 1;
                teamMembers.push({ id: newId, ...memberData });
            }

            saveTeamMembers();
            renderTeamMembers();
            updateStats();
            resetTeamForm();
            document.getElementById('teamForm').style.display = 'none';
            showNotification('Team member saved successfully!');
        }

        // Load jobs on page load
        loadJobs();
        loadTeamMembers();
    </script>
</body>
</html>
